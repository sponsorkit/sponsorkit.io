{
	"name": "Sponsorkit",
	"build": {
		"dockerfile": "Dockerfile"
	},
	"forwardPorts": [
		3000,
		6006
	],
	"mounts": [
		"source=sponsorkit-node_modules,target=${containerWorkspaceFolder}/node_modules,type=volume",
		"source=${localEnv:USERPROFILE}/.aws,target=/root/.aws,type=bind",
		"source=/var/run/docker.sock,target=/var/run/docker.sock,type=bind"
	],
	"postCreateCommand": "npm i --legacy-peer-deps && Xvfb :99 -screen 0 1920x1080x8 -nolisten tcp &",
	"containerEnv": {
		"NODE_OPTIONS": "--max_old_space_size=4096"
	},
	"runArgs": [
		"--network=host"
	],
	"customizations": {
		"vscode": {
			"extensions": [
				"GitHub.copilot",
				"ms-edgedevtools.vscode-edge-devtools",
				"ms-playwright.playwright",
				"jpotterm.simple-vim"
			],
			"settings": {
				"debug.node.autoAttach": "off",
				"typescript.tsdk": "node_modules/typescript/lib",
				"files.exclude": {
					"**/node_modules/": true
				},
				"javascript.preferences.importModuleSpecifier": "non-relative",
				"editor.unfoldOnClickAfterEndOfLine": true,
				"files.eol": "\n",
				"terminal.integrated.scrollback": 100000,
				"debug.javascript.autoAttachFilter": "disabled"
			}
		}
	}
}